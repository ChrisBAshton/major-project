<h1>Create Dispute</h1>

<?php
    if (Base::instance()->get('error_message')) {
        $message = array(
            'class'   => 'bg-padded bg-danger',
            'details' => Base::instance()->get('error_message')
        );
    }
    else {
        $message = array(
            'class'   => 'bg-padded bg-info',
            'details' => 'Create a dispute by filling in the form.'
        );
    }
?>
<p class="<?= $message['class']; ?>"><?= $message['details']; ?></p>

<form name="dispute" method="post">
    <div class="col-lg-12">
        <label for="title">Dispute title:</label>
        <input type="text" name="title" id="title" class="form-control" placeholder="e.g. Smith vs Jones" />
    </div>

    <div class="col-lg-4">
        <label for="agent">Agent overseeing Dispute:</label>
    </div>
    <div class="col-lg-8">
        <select name="agent" id="agent" class="form-control">
            <option value="---">Select an Agent:</option>
            <?php
                foreach($agents as $agent) {
                    echo '<option value="' . $agent->getLoginId() . '">' . $agent->getName() . '</option>';
                }
            ?>
        </select>
    </div>

    <div class="col-lg-4">
        <label for="type">Dispute type:</label>
    </div>
    <div class="col-lg-8">
        <select name="type" id="type" class="form-control">
            <option value="---">Select a Dispute type:</option>
            <?php
                foreach($modules as $module) {
                    echo '<option value="' . $module->key() . '">' . $module->title() . '</option>';
                }
            ?>
        </select>
    </div>

    <div class="col-lg-12">
        <button class="btn btn-lg btn-primary btn-block" type="submit">Create Dispute</button>
    </div>
</form>